@page "/ObjOriProg"
@using System.Collections.ObjectModel
@inject CodeDisplayService codeDisplayService;

<PageTitle>Object Oriented Programming</PageTitle>

@if (!String.IsNullOrEmpty(Exception))
{
    <h4>Exception: @Exception</h4>
}

@foreach (var item in consoleEmulator)
{
    <p>@item</p>
}

@code {
    public static string NavigateMe() => "/ObjOriProg";
    public static string PageName() => "Object Oriented Programming";

    static string Exception = string.Empty;
    static ObservableCollection<string> consoleEmulator = new();

    protected override async void OnInitialized()
    {
        //Kode for at vise specifikke filer i CodeDisplay
        await codeDisplayService.UpdateFiles(new List<string>() {
            "Pages/ObjectOrientedProgramming/ObjData.cs",
            "Pages/ObjectOrientedProgramming/IntAbsEnum.cs"
        });

        try
        {
            consoleEmulator = ObjData.MainMethod();
        }
        catch (Exception e)
        {
            Exception = e.Message;
            return;
        }
    }
}
